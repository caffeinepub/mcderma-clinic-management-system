{
  "kind": "build_request",
  "title": "Next Appointment Widget: Show Only Today's Appointments",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Update the NextAppointmentWidget component so that it only considers appointments from today's appointment list when determining the next upcoming appointment. It must not pull from tomorrow's or upcoming appointment sections.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-last"
        ],
        "quotes": [
          "for next appointment show next appointment from today's appointment section only. If there is no appointment in today's appointment section then Show No Appointment For Today."
        ]
      },
      "acceptanceCriteria": [
        "The Next Appointment widget only evaluates appointments that belong to today's appointment section.",
        "If today has future appointments, the widget shows the next one chronologically.",
        "If today has no appointments at all (or all of today's appointments have already passed), the widget displays 'No Appointment For Today'.",
        "Appointments from tomorrow or the upcoming section are never shown in the Next Appointment widget.",
        "The same logic applies in WidgetView.tsx if it also renders next-appointment data."
      ]
    }
  ],
  "constraints": [
    "Do not modify useInternetIdentity.ts, useActor.ts, main.tsx, or any file under frontend/src/components/ui.",
    "Do not change the backend data model or any Motoko actor logic.",
    "Do not alter any other sections of the Schedule tab beyond the Next Appointment widget."
  ],
  "nonGoals": [
    "Adding new appointment filtering or sorting options.",
    "Changing the layout or design of the Schedule tab.",
    "Fixing the loading spinner issue (separate known issue).",
    "Modifying tomorrow's or upcoming appointment sections."
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}