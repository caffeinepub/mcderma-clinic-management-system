@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    :root {
        --radius: 0.75rem;
        /* Medical blue theme - professional and trustworthy */
        --background: 0.98 0 0;
        --foreground: 0.2 0 0;
        --card: 1 0 0;
        --card-foreground: 0.2 0 0;
        --popover: 1 0 0;
        --popover-foreground: 0.2 0 0;
        /* Primary: Medical blue */
        --primary: 0.55 0.15 240;
        --primary-foreground: 0.99 0 0;
        /* Secondary: Light blue-gray */
        --secondary: 0.95 0.01 240;
        --secondary-foreground: 0.3 0 0;
        --muted: 0.96 0.005 240;
        --muted-foreground: 0.5 0 0;
        --accent: 0.94 0.02 240;
        --accent-foreground: 0.25 0 0;
        /* Success: Medical green */
        --success: 0.65 0.15 150;
        --success-foreground: 0.99 0 0;
        /* Warning: Amber */
        --warning: 0.75 0.15 60;
        --warning-foreground: 0.2 0 0;
        --destructive: 0.58 0.22 25;
        --destructive-foreground: 0.99 0 0;
        --border: 0.9 0.005 240;
        --input: 0.92 0.005 240;
        --ring: 0.55 0.15 240;
    }

    .dark {
        --background: 0.15 0 0;
        --foreground: 0.95 0 0;
        --card: 0.18 0 0;
        --card-foreground: 0.95 0 0;
        --popover: 0.2 0 0;
        --popover-foreground: 0.95 0 0;
        --primary: 0.6 0.18 240;
        --primary-foreground: 0.98 0 0;
        --secondary: 0.25 0.01 240;
        --secondary-foreground: 0.95 0 0;
        --muted: 0.22 0.01 240;
        --muted-foreground: 0.65 0 0;
        --accent: 0.28 0.02 240;
        --accent-foreground: 0.95 0 0;
        --success: 0.6 0.15 150;
        --success-foreground: 0.98 0 0;
        --warning: 0.7 0.15 60;
        --warning-foreground: 0.15 0 0;
        --destructive: 0.6 0.22 25;
        --destructive-foreground: 0.98 0 0;
        --border: 0.3 0.01 240;
        --input: 0.28 0.01 240;
        --ring: 0.6 0.18 240;
    }

    * {
        @apply border-border;
    }
    body {
        @apply bg-background text-foreground;
    }
}

/* Custom scrollbar */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    @apply bg-muted;
}

::-webkit-scrollbar-thumb {
    @apply bg-muted-foreground/30 rounded-full;
}

::-webkit-scrollbar-thumb:hover {
    @apply bg-muted-foreground/50;
}

/* Smooth transitions */
* {
    @apply transition-colors duration-200;
}

/* Calendar spacing improvements */
.rdp {
    --rdp-cell-size: 48px;
    --rdp-accent-color: oklch(var(--primary));
    --rdp-background-color: oklch(var(--accent));
    margin: 0;
}

/* Calendar container padding */
.rdp-months {
    padding: 1rem;
}

/* Month navigation spacing */
.rdp-caption {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0.5rem 0 1rem 0;
    margin-bottom: 0.75rem;
}

/* Navigation buttons spacing */
.rdp-nav {
    display: flex;
    gap: 0.5rem;
}

/* Table spacing */
.rdp-table {
    width: 100%;
    border-collapse: separate;
    border-spacing: 0.25rem;
}

/* Header cells (weekday names) */
.rdp-head_cell {
    font-weight: 500;
    font-size: 0.875rem;
    padding: 0.5rem;
    text-align: center;
    color: oklch(var(--muted-foreground));
}

/* Date cells */
.rdp-cell {
    padding: 0.125rem;
}

/* Date buttons - minimum 44x44px touch target */
.rdp-button {
    width: var(--rdp-cell-size);
    height: var(--rdp-cell-size);
    min-width: 44px;
    min-height: 44px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 0.5rem;
    font-size: 0.9375rem;
    font-weight: 400;
    transition: all 0.15s ease;
}

/* Hover state */
.rdp-button:not(.rdp-day_selected):hover {
    background-color: oklch(var(--accent));
}

/* Selected date */
.rdp-day_selected {
    background-color: oklch(var(--primary));
    color: oklch(var(--primary-foreground));
    font-weight: 500;
}

/* Today's date */
.rdp-day_today:not(.rdp-day_selected) {
    font-weight: 600;
    color: oklch(var(--primary));
}

/* Outside month dates */
.rdp-day_outside {
    opacity: 0.4;
}

/* Disabled dates */
.rdp-button:disabled {
    opacity: 0.3;
    cursor: not-allowed;
}

/* Mobile optimization */
@media (max-width: 640px) {
    .rdp {
        --rdp-cell-size: 44px;
    }
    
    .rdp-months {
        padding: 0.75rem;
    }
    
    .rdp-table {
        border-spacing: 0.125rem;
    }
    
    .rdp-button {
        font-size: 0.875rem;
    }
}

/* Larger screens - more generous spacing */
@media (min-width: 641px) {
    .rdp {
        --rdp-cell-size: 52px;
    }
    
    .rdp-table {
        border-spacing: 0.375rem;
    }
}

/* Enhanced Calendar Container - responsive sizing */
.enhanced-calendar-container {
    display: flex;
    flex-direction: column;
    width: 100%;
    max-width: 100vw;
    background: oklch(var(--popover));
    border-radius: 0.5rem;
    overflow: hidden;
}

/* Calendar Header - Blue background with selected date */
.calendar-header {
    background: oklch(var(--primary));
    color: oklch(var(--primary-foreground));
    padding: 1.25rem 1rem;
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
}

.calendar-year {
    font-size: 1rem;
    font-weight: 400;
    opacity: 0.9;
}

.calendar-selected-date {
    font-size: 1.75rem;
    font-weight: 500;
    line-height: 1.2;
}

/* Calendar Body */
.calendar-body {
    background: oklch(var(--popover));
    padding: 0;
}

.enhanced-calendar-container .rdp {
    --rdp-cell-size: 40px;
}

.enhanced-calendar-container .rdp-months {
    padding: 1rem;
}

.enhanced-calendar-container .rdp-caption {
    padding: 0 0 0.75rem 0;
    margin-bottom: 0.5rem;
}

.enhanced-calendar-container .rdp-caption_label {
    font-size: 1rem;
    font-weight: 500;
}

.enhanced-calendar-container .rdp-table {
    border-spacing: 0.25rem;
}

.enhanced-calendar-container .rdp-head_cell {
    font-size: 0.875rem;
    font-weight: 600;
    padding: 0.5rem;
    color: oklch(var(--muted-foreground));
}

.enhanced-calendar-container .rdp-button {
    font-size: 0.9375rem;
    border-radius: 50%;
    font-weight: 400;
}

.enhanced-calendar-container .rdp-day_selected {
    background-color: oklch(var(--primary));
    color: oklch(var(--primary-foreground));
    font-weight: 600;
    border-radius: 50%;
}

/* Calendar Footer - Action buttons */
.calendar-footer {
    display: flex;
    justify-content: flex-end;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1rem;
    border-top: 1px solid oklch(var(--border));
    background: oklch(var(--popover));
}

.calendar-action-btn {
    font-size: 0.875rem;
    font-weight: 500;
    padding: 0.5rem 1rem;
    height: auto;
    color: oklch(var(--primary));
}

.calendar-action-btn:hover {
    background: oklch(var(--accent));
}

.calendar-action-btn-primary {
    color: oklch(var(--primary));
    font-weight: 600;
}

/* Appointment calendar popover - responsive positioning */
.appointment-calendar-popover {
    max-width: calc(100vw - 2rem);
    max-height: calc(100vh - 2rem);
}

/* Mobile calendar adjustments */
@media (max-width: 640px) {
    .enhanced-calendar-container {
        max-width: calc(100vw - 2rem);
    }

    .calendar-header {
        padding: 1rem 0.875rem;
    }

    .calendar-year {
        font-size: 0.875rem;
    }

    .calendar-selected-date {
        font-size: 1.5rem;
    }

    .enhanced-calendar-container .rdp {
        --rdp-cell-size: 38px;
    }
    
    .enhanced-calendar-container .rdp-months {
        padding: 0.75rem;
    }
    
    .enhanced-calendar-container .rdp-table {
        border-spacing: 0.125rem;
    }
    
    .enhanced-calendar-container .rdp-button {
        font-size: 0.875rem;
    }

    .enhanced-calendar-container .rdp-head_cell {
        font-size: 0.75rem;
        padding: 0.375rem;
    }

    .calendar-footer {
        padding: 0.625rem 0.75rem;
    }

    .calendar-action-btn {
        font-size: 0.8125rem;
        padding: 0.375rem 0.75rem;
    }
}

/* Tablet and larger - increase calendar size */
@media (min-width: 641px) {
    .enhanced-calendar-container {
        max-width: 420px;
    }

    .enhanced-calendar-container .rdp {
        --rdp-cell-size: 48px;
    }
    
    .enhanced-calendar-container .rdp-table {
        border-spacing: 0.375rem;
    }

    .calendar-header {
        padding: 1.5rem 1.25rem;
    }

    .calendar-year {
        font-size: 1.125rem;
    }

    .calendar-selected-date {
        font-size: 2rem;
    }

    .enhanced-calendar-container .rdp-button {
        font-size: 1rem;
    }

    .enhanced-calendar-container .rdp-head_cell {
        font-size: 0.9375rem;
    }
}

/* Desktop calendar - even larger */
@media (min-width: 768px) {
    .enhanced-calendar-container {
        max-width: 480px;
    }

    .enhanced-calendar-container .rdp {
        --rdp-cell-size: 56px;
    }
    
    .enhanced-calendar-container .rdp-table {
        border-spacing: 0.5rem;
    }

    .calendar-header {
        padding: 1.75rem 1.5rem;
    }

    .calendar-selected-date {
        font-size: 2.25rem;
    }

    .enhanced-calendar-container .rdp-button {
        font-size: 1.125rem;
    }
}
